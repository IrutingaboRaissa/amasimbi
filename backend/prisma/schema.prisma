generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id            String   @id @default(uuid())
  email         String   @unique
  password      String
  age           Int
  category      String
  parentConsent Boolean  @default(false)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  // Privacy-focused fields
  displayName   String   @default("Anonymous") // Will be "Anonymous" or "User1234"
  avatarType    String   @default("EMOJI")     // EMOJI, AVATAR, or NONE
  avatarValue   String?  // The actual emoji or avatar identifier
  isAnonymous   Boolean  @default(true)        // Whether the user wants to remain anonymous
  testimonialId String?  @unique               // For linking anonymous testimonials

  // Optional fields that can be null
  bio           String?  @db.Text
  location      String?
  interests     Json     // MySQL doesn't support arrays, using JSON instead
  joinedDate    DateTime @default(now())
  lastActive    DateTime @default(now())
} 